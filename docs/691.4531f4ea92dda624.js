"use strict";(self.webpackChunkFreshcart=self.webpackChunkFreshcart||[]).push([[691],{9691:(A,u,a)=>{a.r(u),a.d(u,{DetailsComponent:()=>E});var r=a(6814),l=a(756),_=a(3519),d=a.n(_),t=a(4769),p=a(1120),m=a(0),g=a(6286);function f(i,c){if(1&i&&t._UZ(0,"img",20),2&i){const e=t.oxw().$implicit;t.Q6J("src",e,t.LSH)}}function D(i,c){1&i&&(t.ynx(0),t.YNc(1,f,1,1,"ng-template",19),t.BQk())}function h(i,c){if(1&i&&t._UZ(0,"i",21),2&i){const e=c.$implicit,o=t.oxw(2);t.ekj("rating-color",o.productDetails.ratingsAverage>=e)}}const x=function(){return[1,2,3,4,5]};function v(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div"),t._UZ(5,"img",6),t.qZA(),t.TgZ(6,"owl-carousel-o",7),t.YNc(7,D,2,0,"ng-container",8),t.qZA()()(),t.TgZ(8,"div",9)(9,"div")(10,"h3",10),t._uU(11),t.qZA(),t.TgZ(12,"p",11),t._uU(13),t.qZA(),t.TgZ(14,"h4",12),t._uU(15),t.qZA(),t.TgZ(16,"div",13)(17,"p",14),t._uU(18),t.qZA(),t.TgZ(19,"p"),t.YNc(20,h,1,2,"i",15),t.qZA()(),t.TgZ(21,"button",16,17),t.NdJ("click",function(){t.CHM(e);const s=t.MAs(22),n=t.oxw();return t.KtG(n.addProduct(n.productDetails._id,s))}),t._uU(23," Add Product"),t._UZ(24,"i",18),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(5),t.Q6J("src",e.productDetails.imageCover,t.LSH)("alt",e.productDetails.title)("title",e.productDetails.title),t.xp6(1),t.Q6J("options",e.ProductDetailsOptions),t.xp6(1),t.Q6J("ngForOf",e.productDetails.images),t.xp6(4),t.Oqu(e.productDetails.title),t.xp6(2),t.Oqu(e.productDetails.description),t.xp6(2),t.Oqu(e.productDetails.category.name),t.xp6(3),t.hij("",e.productDetails.price," EGP"),t.xp6(2),t.Q6J("ngForOf",t.DdM(10,x))}}function O(i,c){1&i&&(t.TgZ(0,"h2",22),t._uU(1,"Please Wait...."),t._UZ(2,"i",23),t.qZA())}let E=(()=>{class i{constructor(e,o,s,n){this._ActivatedRoute=e,this._ProductService=o,this._Renderer2=s,this._CartService=n,this.productId="",this.productDetails=null,this.ProductDetailsOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!1,margin:5,autoplay:!0,autoplaySpeed:1e3,autoplayTimeout:4e3,navSpeed:700,navText:["<",">"],responsive:{0:{items:3}},nav:!0}}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:e=>{console.log(e.get("id")),this.productId=e.get("id")}}),this._ProductService.getProductDetails(this.productId).subscribe({next:e=>{console.log(e.data),this.productDetails=e.data},error:e=>{console.log(e)}})}addProduct(e,o){this._Renderer2.setAttribute(o,"disabled","true"),this._CartService.addToCart(e).subscribe({next:s=>{console.log(s),"success"==s.status&&(d().fire({position:"top-end",icon:"success",title:s.message,showConfirmButton:!1,timer:1500}),this._Renderer2.removeAttribute(o,"disabled"),this._CartService.cartNumber.next(s.numOfCartItems))},error:s=>{console.log(s),this._Renderer2.removeAttribute(o,"disabled")}})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(p.gz),t.Y36(m.M),t.Y36(t.Qsj),t.Y36(g.N))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-details"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[["class","py-5 w-75 mx-auto",4,"ngIf","ngIfElse"],["msg",""],[1,"py-5","w-75","mx-auto"],[1,"row","align-items-center"],[1,"col-md-3"],[1,"d-flex","flex-column","gap-2"],["height","180","title",".",1,"w-100","main-img-carousel",3,"src","alt","title"],[3,"options"],[4,"ngFor","ngForOf"],[1,"col-md-9"],[1,"h5","fw-semibold","text-main"],[1,"text-muted","fw-semibold","small"],[1,"fw-semibold","text-dark","h6"],[1,"d-flex","align-items-center","justify-content-between","my-2"],[1,"fw-semibold","text-dark"],["class","fas fa-star ",3,"rating-color",4,"ngFor","ngForOf"],[1,"main-btn","w-100","my-1",3,"click"],["btnAdd",""],[1,"fas","fa-cart-plus","ms-1","fa-bounce"],["carouselSlide",""],["alt","image",3,"src"],[1,"fas","fa-star"],[1,"text-center","fw-semibold","mt-5","text-main"],[1,"fa-regular","fa-hourglass-half","fa-bounce"]],template:function(o,s){if(1&o&&(t.YNc(0,v,25,11,"section",0),t.YNc(1,O,3,0,"ng-template",null,1,t.W1O)),2&o){const n=t.MAs(2);t.Q6J("ngIf",s.productDetails)("ngIfElse",n)}},dependencies:[r.ez,r.sg,r.O5,l.bB,l.Fy,l.Mp]})}return i})()}}]);