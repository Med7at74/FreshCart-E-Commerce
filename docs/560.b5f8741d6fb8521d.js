"use strict";(self.webpackChunkFreshcart=self.webpackChunkFreshcart||[]).push([[560],{6560:(y,d,l)=>{l.r(d),l.d(d,{RegisterComponent:()=>Q});var c=l(6814),s=l(95),e=l(4769),f=l(9410),h=l(1120);function Z(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," name is required "),e.qZA())}function T(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," must be at least 3 chars "),e.qZA())}function v(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," name max length 20 "),e.qZA())}function x(t,i){if(1&t&&(e.TgZ(0,"div",22),e.YNc(1,Z,2,0,"p",23),e.YNc(2,T,2,0,"p",23),e.YNc(3,v,2,0,"p",23),e.qZA()),2&t){const o=e.oxw();let n,r,a;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("name"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("name"))?null:r.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(a=o.registerForm.get("name"))?null:a.getError("maxlength"))}}function w(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," Email is required "),e.qZA())}function I(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," Email InValid Format "),e.qZA())}function A(t,i){if(1&t&&(e.TgZ(0,"div",22),e.YNc(1,w,2,0,"p",23),e.YNc(2,I,2,0,"p",23),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("email"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("email"))?null:r.getError("email"))}}function q(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," Password is required "),e.qZA())}function C(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," password must start with upperCase then from 6 to 10 "),e.qZA())}function F(t,i){if(1&t&&(e.TgZ(0,"div",22),e.YNc(1,q,2,0,"p",23),e.YNc(2,C,2,0,"p",23),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("password"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("password"))?null:r.getError("pattern"))}}function R(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," rePassword is required "),e.qZA())}function U(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," Password confirmation is incorrect "),e.qZA())}function E(t,i){if(1&t&&(e.TgZ(0,"div",22),e.YNc(1,R,2,0,"p",23),e.YNc(2,U,2,0,"p",23),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("rePassword"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("rePassword"))?null:r.getError("mismatch"))}}function N(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," phone is required "),e.qZA())}function P(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," accept only egypt phone numbers "),e.qZA())}function Y(t,i){if(1&t&&(e.TgZ(0,"div",22),e.YNc(1,N,2,0,"p",23),e.YNc(2,P,2,0,"p",23),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("phone"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("phone"))?null:r.getError("pattern"))}}function J(t,i){1&t&&e._UZ(0,"i",24)}function b(t,i){if(1&t&&(e.TgZ(0,"p",25),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.errorMessage," ")}}let Q=(()=>{class t{constructor(o,n){this._AuthService=o,this._Router=n,this.errorMessage="",this.btnText="Register",this.isLoading=!1,this.registerForm=new s.cw({name:new s.NI(null,[s.kI.required,s.kI.maxLength(20),s.kI.minLength(3)]),email:new s.NI(null,[s.kI.required,s.kI.email]),password:new s.NI(null,[s.kI.required,s.kI.pattern(/^[A-Z][a-z0-9]{6,20}$/)]),rePassword:new s.NI(null),phone:new s.NI(null,[s.kI.required,s.kI.pattern(/^01[0125][0-9]{8}$/)])},{validators:[this.confirmPassword]})}confirmPassword(o){const n=o.get("password"),r=o.get("rePassword");""==r?.value?r?.setErrors({required:!0}):r?.value!=n?.value&&r?.setErrors({mismatch:!0})}registerFun(){let o=this.registerForm.value;this.isLoading=!0,this.btnText="Please Wait...",this.registerForm.valid?this._AuthService.register(o).subscribe({next:n=>{"success"==n.message&&(this.isLoading=!1,this.btnText="Please Wait...",this._Router.navigate(["/login"]))},error:n=>{this.isLoading=!1,this.btnText="Register",this.errorMessage=n.error.message}}):this.registerForm.markAllAsTouched()}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(f.e),e.Y36(h.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],standalone:!0,features:[e.jDz],decls:38,vars:10,consts:[[1,"my-4","p-4","w-75","mx-auto","bg-main-light","rounded-2"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","name"],["formControlName","name","type","text","id","name",1,"form-control"],["nameInput",""],["class","alert alert-danger",4,"ngIf"],["for","email"],["formControlName","email","type","email","id","email",1,"form-control"],["emailInput",""],["for","password"],["formControlName","password","type","password","id","password",1,"form-control"],["passwordInput",""],["for","rePassword"],["formControlName","rePassword","type","password","id","rePassword",1,"form-control"],["rePasswordInput",""],["for","phone"],["formControlName","phone","type","tel","id","phone",1,"form-control"],["phoneInput",""],[1,"main-btn","d-block","ms-auto",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],["class","alert alert-danger w-75 mx-auto text-center mt-2",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[1,"fas","fa-spinner","fa-spin"],[1,"alert","alert-danger","w-75","mx-auto","text-center","mt-2"]],template:function(n,r){if(1&n&&(e.TgZ(0,"section",0)(1,"h2"),e._uU(2,"Register Now :"),e.qZA(),e.TgZ(3,"form",1),e.NdJ("ngSubmit",function(){return r.registerFun()}),e.TgZ(4,"div",2)(5,"label",3),e._uU(6,"Your name"),e.qZA(),e._UZ(7,"input",4,5),e.YNc(9,x,4,3,"div",6),e.qZA(),e.TgZ(10,"div",2)(11,"label",7),e._uU(12,"Your email"),e.qZA(),e._UZ(13,"input",8,9),e.YNc(15,A,3,2,"div",6),e.qZA(),e.TgZ(16,"div",2)(17,"label",10),e._uU(18,"Your password"),e.qZA(),e._UZ(19,"input",11,12),e.YNc(21,F,3,2,"div",6),e.qZA(),e.TgZ(22,"div",2)(23,"label",13),e._uU(24,"RePassword"),e.qZA(),e._UZ(25,"input",14,15),e.YNc(27,E,3,2,"div",6),e.qZA(),e.TgZ(28,"div",2)(29,"label",16),e._uU(30,"Your phone"),e.qZA(),e._UZ(31,"input",17,18),e.YNc(33,Y,3,2,"div",6),e.qZA(),e.TgZ(34,"button",19),e._uU(35),e.YNc(36,J,1,0,"i",20),e.qZA(),e.YNc(37,b,2,1,"p",21),e.qZA()()),2&n){const a=e.MAs(8),M=e.MAs(14),L=e.MAs(20),D=e.MAs(26),O=e.MAs(32);let p,g,_,m,u;e.xp6(3),e.Q6J("formGroup",r.registerForm),e.xp6(6),e.Q6J("ngIf",(null==(p=r.registerForm.get("name"))?null:p.errors)&&((null==(p=r.registerForm.get("name"))?null:p.touched)||a.value.length>0)),e.xp6(6),e.Q6J("ngIf",(null==(g=r.registerForm.get("email"))?null:g.errors)&&((null==(g=r.registerForm.get("email"))?null:g.touched)||M.value.length>0)),e.xp6(6),e.Q6J("ngIf",(null==(_=r.registerForm.get("password"))?null:_.errors)&&((null==(_=r.registerForm.get("password"))?null:_.touched)||L.value.length>0)),e.xp6(6),e.Q6J("ngIf",(null==(m=r.registerForm.get("rePassword"))?null:m.errors)&&((null==(m=r.registerForm.get("rePassword"))?null:m.touched)||D.value.length>0)),e.xp6(6),e.Q6J("ngIf",(null==(u=r.registerForm.get("phone"))?null:u.errors)&&((null==(u=r.registerForm.get("phone"))?null:u.touched)||O.value.length>0)),e.xp6(1),e.Q6J("disabled",r.registerForm.invalid),e.xp6(1),e.hij(" ",r.btnText," "),e.xp6(1),e.Q6J("ngIf",r.isLoading),e.xp6(1),e.Q6J("ngIf",r.errorMessage)}},dependencies:[c.ez,c.O5,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]})}return t})()}}]);